/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2015
 * @version 4.3.1
 *
 * File input styled for Bootstrap 3.0 that utilizes HTML5 File Input's advanced features including the FileReader API.
 *
 * The plugin drastically enhances the HTML file input to preview multiple files on the client before upload. In
 * addition it provides the ability to preview content of images, text, videos, audio, html, flash and other objects.
 * It also offers the ability to upload and delete files using AJAX, and add files in batches (i.e. preview, append,
 * or remove before upload).
 *
 * Author: Kartik Visweswaran
 * Copyright: 2015, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=n(require("jquery")):n(window.jQuery)})(function(n){"use strict";n.fn.fileinputLocales={};var b,l,r,a,ut,u,i,ft,k,et,ot,f,o,tt,s,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,it,rt,d,g,v,y,t,c,e,h,p,vi,w,nt;b=".fileinput";l=window.URL||window.webkitURL;r=function(n,t,i){return n!==undefined&&(i?n===t:n.match(t))};a=function(n){if(navigator.appName!=="Microsoft Internet Explorer")return!1;if(n===10)return new RegExp("msie\\s"+n,"i").test(navigator.userAgent);var t=document.createElement("div"),i;return t.innerHTML="<!--[if IE "+n+"]> <i><\/i> <![endif]-->",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i};ut=function(){return new RegExp("Edge/[0-9]+","i").test(navigator.userAgent)};u=function(n,t,i,r){var u=r?t:t.split(" ").join(b+" ")+b;n.off(u).on(u,i)};i={data:{},init:function(n){var t=n.initialPreview,r=n.id;t.length>0&&!c(t)&&(t=t.split(n.initialPreviewDelimiter));i.data[r]={content:t,config:n.initialPreviewConfig,tags:n.initialPreviewThumbTags,delimiter:n.initialPreviewDelimiter,template:n.previewGenericTemplate,msg:function(t){return n._getMsgSelected(t)},initId:n.previewInitId,footer:n._getLayoutTemplate("footer").replace(/\{progress}/g,n._renderThumbProgress()),isDelete:n.initialPreviewShowDelete,caption:n.initialCaption,actions:function(t,i,r,u,f){return n._renderFileActions(t,i,r,u,f)}}},fetch:function(n){return i.data[n].content.filter(function(n){return n!==null})},count:function(n,t){return!!i.data[n]&&!!i.data[n].content?t?i.data[n].content.length:i.fetch(n).length:0},get:function(r,u,f){var c="init_"+u,e=i.data[r],o=e.config[u],a=e.initId+"-"+c,s,h,l=" file-preview-initial";return(f=f===undefined?!0:f,e.content[u]===null)?"":(t(o)||t(o.frameClass)||(l+=" "+o.frameClass),s=e.template.replace(/\{previewId}/g,a).replace(/\{frameClass}/g,l).replace(/\{fileindex}/g,c).replace(/\{content}/g,e.content[u]).replace(/\{footer}/g,i.footer(r,u,f)),e.tags.length&&e.tags[u]&&(s=w(s,e.tags[u])),t(o)||t(o.frameAttr)||(h=n(document.createElement("div")).html(s),h.find(".file-preview-initial").attr(o.frameAttr),s=h.html(),h.remove()),s)},add:function(t,r,u,f,e){var o=n.extend(!0,{},i.data[t]),s;return c(r)||(r=r.split(o.delimiter)),e?(s=o.content.push(r)-1,o.config[s]=u,o.tags[s]=f):(s=r.length,o.content=r,o.config=u,o.tags=f),i.data[t]=o,s},set:function(t,r,u,f,e){var s=n.extend(!0,{},i.data[t]),o,h;if(r&&r.length&&(c(r)||(r=r.split(s.delimiter)),h=r.filter(function(n){return n!==null}),h.length)){if(s.content===undefined&&(s.content=[]),s.config===undefined&&(s.config=[]),s.tags===undefined&&(s.tags=[]),e){for(o=0;o<r.length;o++)r[o]&&s.content.push(r[o]);for(o=0;o<u.length;o++)u[o]&&s.config.push(u[o]);for(o=0;o<f.length;o++)f[o]&&s.tags.push(f[o])}else s.content=r,s.config=u,s.tags=f;i.data[t]=s}},unset:function(n,t){var r=i.count(n);if(r){if(r===1){i.data[n].content=[];i.data[n].config=[];return}i.data[n].content[t]=null;i.data[n].config[t]=null}},out:function(n){var r="",e=i.data[n],u,f=i.count(n,!0),t;if(f===0)return{content:"",caption:""};for(t=0;t<f;t++)r+=i.get(n,t);return u=e.msg(i.count(n)),{content:r,caption:u}},footer:function(n,r,u){var o=i.data[n];if(u=u===undefined?!0:u,o.config.length===0||t(o.config[r]))return"";var f=o.config[r],h=e("caption",f)?f.caption:"",c=e("width",f)?f.width:"auto",s=e("url",f)?f.url:!1,l=e("key",f)?f.key:null,a=s===!1&&u,v=o.isDelete?o.actions(!1,!0,a,s,l):"",y=o.footer.replace(/\{actions}/g,v);return y.replace(/\{caption}/g,h).replace(/\{width}/g,c).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}};ft=function(n,t){return(t=t||0,typeof n=="number")?n:(typeof n=="string"&&(n=parseFloat(n)),isNaN(n)?t:n)};k=function(){return!!(window.File&&window.FileReader)};et=function(){var n=document.createElement("div");return!a(9)&&!ut()&&(n.draggable!==undefined||n.ondragstart!==undefined&&n.ondrop!==undefined)};ot=function(){return k()&&window.FormData};f=function(n,t){n.removeClass(t).addClass(t)};o='style="width:{width};height:{height};"';tt='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n';s='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}<\/span>\n<\/div>';st={removeIcon:'<i class="glyphicon glyphicon-trash text-danger"><\/i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"><\/i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"><\/i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"><\/i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"><\/i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"><\/i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."};ht='{preview}\n<div class="kv-upload-progress hide"><\/div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   <\/div>\n<\/div>';ct='{preview}\n<div class="kv-upload-progress hide"><\/div>\n{remove}\n{cancel}\n{upload}\n{browse}\n';lt='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    <\/div>\n    <div class="clearfix"><\/div>    <div class="file-preview-status text-center text-success"><\/div>\n    <div class="kv-fileinput-error"><\/div>\n    <\/div>\n<\/div>';vt='<div class="close fileinput-remove">&times;<\/div>\n';at='<span class="glyphicon glyphicon-file kv-caption-icon"><\/span>';yt='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"><\/div>\n<\/div>\n';pt='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}<\/button>';wt='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}<\/a>';bt='<div tabindex="500" class="{css}" {status}>{icon}{label}<\/div>';kt='<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button>\n        <h3 class="modal-title">{heading} <small>{title}<\/small><\/h3>\n      <\/div>\n      <div class="modal-body">\n           <pre>{body}<\/pre>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>';dt='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     <\/div>\n<\/div>';gt='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}<\/div>\n    {progress} {actions}\n<\/div>';ni='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    <\/div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}<\/div>\n    <div class="clearfix"><\/div>\n<\/div>';ti='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}<\/button>\n';ii='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n<\/button>\n';ri='<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n<\/button>\n';ui='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n<\/div>\n';fi='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       '+s+"\n    <\/object>\n   {footer}\n<\/div>";ei='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" '+o+">\n   {footer}\n<\/div>\n";oi='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" '+o+">{data}<\/pre>\n   {zoom}\n   {footer}\n<\/div>";si='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+o+'>\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       '+s+"\n   <\/video>\n   {footer}\n<\/div>\n";hi='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+o+'>\n   <audio controls>\n       <source src="{data}" type="{type}">\n       '+s+"\n   <\/audio>\n   {footer}\n<\/div>";ci='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+o+'>\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+tt+"       "+s+"\n   <\/object>\n   {footer}\n<\/div>\n";li='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+o+'>\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n'+tt+"         "+s+"\n   <\/object>\n   {footer}\n<\/div>";ai='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+o+'>\n   <div class="file-preview-other-frame">\n   '+s+'\n   <\/div>\n   <div class="file-preview-other-footer">{footer}<\/div>\n<\/div>';it={main1:ht,main2:ct,preview:lt,close:vt,zoom:ri,icon:at,caption:yt,modal:kt,progress:dt,footer:gt,actions:ni,actionDelete:ti,actionUpload:ii,btnDefault:pt,btnLink:wt,btnBrowse:bt};rt={generic:ui,html:fi,image:ei,text:oi,video:si,audio:hi,flash:ci,object:li,other:ai};d=["image","html","text","video","audio","flash","object"];g={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}};y={image:function(n,t){return r(n,"image.*")||r(t,/\.(gif|png|jpe?g)$/i)},html:function(n,t){return r(n,"text/html")||r(t,/\.(htm|html)$/i)},text:function(n,t){return r(n,"text.*")||r(n,/\.(xml|javascript)$/i)||r(t,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(n,t){return r(n,"video.*")&&(r(n,/(ogg|mp4|mp?g|webm|3gp)$/i)||r(t,/\.(og?|mp4|webm|mp?g|3gp)$/i))},audio:function(n,t){return r(n,"audio.*")&&(r(n,/(ogg|mp3|mp?g|wav)$/i)||r(t,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(n,t){return r(n,"application/x-shockwave-flash",!0)||r(t,/\.(swf)$/i)},object:function(n,t){return r(n,"application/pdf",!0)||r(t,/\.(pdf)$/i)},other:function(){return!0}};t=function(t,i){return t===undefined||t===null||t.length===0||i&&n.trim(t)===""};c=function(n){return Array.isArray(n)||Object.prototype.toString.call(n)==="[object Array]"};e=function(n,t){return typeof t=="object"&&n in t};h=function(i,r,u){return t(i)||t(i[r])?u:n(i[r])};p=function(){return Math.round((new Date).getTime()+Math.random()*100)};vi=function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")};w=function(t,i){var r=t;return i?(n.each(i,function(n,t){typeof t=="function"&&(t=t());r=r.split(n).join(t)}),r):r};nt=function(n){var t=n.is("img")?n.attr("src"):n.find("source").attr("src");l.revokeObjectURL(t)};v=function(t,i){var r=this;(r.$element=n(t),r._validate())&&(r.isPreviewable=k(),r.isIE9=a(9),r.isIE10=a(10),r.isPreviewable||r.isIE9?(r._init(i),r._listen()):r.$element.removeClass("file-loading"))};v.prototype={constructor:v,_init:function(r){var u=this,o=u.$element,e;n.each(r,function(n,t){switch(n){case"minFileCount":case"maxFileCount":case"maxFileSize":u[n]=ft(t);break;default:u[n]=t}});u.fileInputCleared=!1;u.fileBatchCompleted=!0;u.isPreviewable||(u.showPreview=!1);u.uploadFileAttr=t(o.attr("name"))?"file_data":o.attr("name");u.reader=null;u.formdata={};u.clearStack();u.uploadCount=0;u.uploadStatus={};u.uploadLog=[];u.uploadAsyncCount=0;u.loadedImages=[];u.totalImagesCount=0;u.ajaxRequests=[];u.isError=!1;u.ajaxAborted=!1;u.cancelling=!1;e=u._getLayoutTemplate("progress");u.progressTemplate=e.replace("{class}",u.progressClass);u.progressCompleteTemplate=e.replace("{class}",u.progressCompleteClass);u.progressErrorTemplate=e.replace("{class}",u.progressErrorClass);u.dropZoneEnabled=et()&&u.dropZoneEnabled;u.isDisabled=u.$element.attr("disabled")||u.$element.attr("readonly");u.isUploadable=ot()&&!t(u.uploadUrl);u.slug=typeof r.slugCallback=="function"?r.slugCallback:u._slugDefault;u.mainTemplate=u.showCaption?u._getLayoutTemplate("main1"):u._getLayoutTemplate("main2");u.captionTemplate=u._getLayoutTemplate("caption");u.previewGenericTemplate=u._getPreviewTemplate("generic");u.resizeImage&&(u.maxImageWidth||u.maxImageHeight)&&(u.imageCanvas=document.createElement("canvas"),u.imageCanvasContext=u.imageCanvas.getContext("2d"));t(u.$element.attr("id"))&&u.$element.attr("id",p());u.$container===undefined?u.$container=u._createContainer():u._refreshContainer();u.$dropZone=u.$container.find(".file-drop-zone");u.$progress=u.$container.find(".kv-upload-progress");u.$btnUpload=u.$container.find(".fileinput-upload");u.$captionContainer=h(r,"elCaptionContainer",u.$container.find(".file-caption"));u.$caption=h(r,"elCaptionText",u.$container.find(".file-caption-name"));u.$previewContainer=h(r,"elPreviewContainer",u.$container.find(".file-preview"));u.$preview=h(r,"elPreviewImage",u.$container.find(".file-preview-thumbnails"));u.$previewStatus=h(r,"elPreviewStatus",u.$container.find(".file-preview-status"));u.$errorContainer=h(r,"elErrorContainer",u.$previewContainer.find(".kv-fileinput-error"));t(u.msgErrorClass)||f(u.$errorContainer,u.msgErrorClass);u.$errorContainer.hide();u.fileActionSettings=n.extend(!0,st,r.fileActionSettings);u.previewInitId="preview-"+p();u.id=u.$element.attr("id");i.init(u);u._initPreview(!0);u._initPreviewDeletes();u.options=r;u._setFileDropZoneTitle();u.$element.removeClass("file-loading");u.$element.attr("disabled")&&u.disable()},_validate:function(){var n=this,t;return n.$element.attr("type")==="file"?!0:(t='<div class="help-block alert alert-warning"><h4>Invalid Input Type<\/h4>You must set an input <code>type = file<\/code> for <b>bootstrap-fileinput<\/b> plugin to initialize.<\/div>',n.$element.after(t),!1)},_errorsExist:function(){var i=this,t;return i.$errorContainer.find("li").length?!0:(t=n(document.createElement("div")).html(i.$errorContainer.html()),t.find("span.kv-error-close").remove(),t.find("ul").remove(),n.trim(t.text()).length?!0:!1)},_errorHandler:function(n,t){var i=this,r=n.target.error;r.code===r.NOT_FOUND_ERR?i._showError(i.msgFileNotFound.replace("{name}",t)):r.code===r.SECURITY_ERR?i._showError(i.msgFileSecured.replace("{name}",t)):r.code===r.NOT_READABLE_ERR?i._showError(i.msgFileNotReadable.replace("{name}",t)):r.code===r.ABORT_ERR?i._showError(i.msgFilePreviewAborted.replace("{name}",t)):i._showError(i.msgFilePreviewError.replace("{name}",t))},_addError:function(n){var i=this,t=i.$errorContainer;n&&t.length&&(t.html(i.errorCloseButton+n),u(t.find(".kv-error-close"),"click",function(){t.fadeOut("slow")}))},_resetErrors:function(n){var t=this,i=t.$errorContainer;t.isError=!1;t.$container.removeClass("has-error");i.html("");n?i.fadeOut("slow"):i.hide()},_showFolderError:function(n){var t=this,r=t.$errorContainer,i;n&&(i=t.msgFoldersNotAllowed.replace(/\{n}/g,n),t._addError(i),f(t.$container,"has-error"),r.fadeIn(800),t._raise("filefoldererror",[n,i]))},_showUploadError:function(n,t,i){var r=this,u=r.$errorContainer,o=i||"fileuploaderror",e=t&&t.id?'<li data-file-id="'+t.id+'">'+n+"<\/li>":"<li>"+n+"<\/li>";return u.find("ul").length===0?r._addError("<ul>"+e+"<\/ul>"):u.find("ul").append(e),u.fadeIn(800),r._raise(o,[t,n]),r.$container.removeClass("file-input-new"),f(r.$container,"has-error"),!0},_showError:function(n,t,i){var r=this,u=r.$errorContainer,e=i||"fileerror";return t=t||{},t.reader=r.reader,r._addError(n),u.fadeIn(800),r._raise(e,[t,n]),r.isUploadable||r._clearFileInput(),r.$container.removeClass("file-input-new"),f(r.$container,"has-error"),r.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(n){var t=this,r=t.minFileCount>1?t.filePlural:t.fileSingle,i=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",r),u=t.$errorContainer;t._addError(i);t.isError=!0;t._updateFileDetails(0);u.fadeIn(800);t._raise("fileerror",[n,i]);t._clearFileInput();f(t.$container,"has-error")},_parseError:function(t,i,r){var e=this,f=n.trim(i+""),o=f.slice(-1)==="."?"":".",u=t.responseJSON!==undefined&&t.responseJSON.error!==undefined?t.responseJSON.error:t.responseText;return e.cancelling&&e.msgUploadAborted&&(f=e.msgUploadAborted),e.showAjaxErrorDetails&&u?(u=n.trim(u.replace(/\n\s*\n/g,"\n")),u=u.length>0?"<pre>"+u+"<\/pre>":"",f+=o+u):f+=o,e.cancelling=!1,r?"<b>"+r+": <\/b>"+f:f},_parseFileType:function(n){for(var f=this,o,u,i,r=0;r<d.length;r+=1)if(i=d[r],o=e(i,f.fileTypeSettings)?f.fileTypeSettings[i]:y[i],u=o(n.type,n.name)?i:"",!t(u))return u;return"other"},_parseFilePreviewIcon:function(t,i){var r=this,u,f=r.previewFileIcon;return(i&&i.indexOf(".")>-1&&(u=i.split(".").pop(),r.previewFileIconSettings&&r.previewFileIconSettings[u]&&(f=r.previewFileIconSettings[u]),r.previewFileExtSettings&&n.each(r.previewFileExtSettings,function(n,t){r.previewFileIconSettings[n]&&t(u)&&(f=r.previewFileIconSettings[n])})),t.indexOf("{previewFileIcon}")>-1)?t.replace(/\{previewFileIconClass}/g,r.previewFileIconClass).replace(/\{previewFileIcon}/g,f):t},_raise:function(t,i){var u=this,r=n.Event(t);if(i!==undefined?u.$element.trigger(r,i):u.$element.trigger(r),r.isDefaultPrevented())return!1;if(!r.result)return r.result;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:u.ajaxAborted=r.result}return!0},_listen:function(){var t=this,i=t.$element,r=i.closest("form"),f=t.$container;u(i,"change",n.proxy(t._change,t));u(t.$btnFile,"click",n.proxy(t._browse,t));u(r,"reset",n.proxy(t.reset,t));u(f.find(".fileinput-remove:not([disabled])"),"click",n.proxy(t.clear,t));u(f.find(".fileinput-cancel"),"click",n.proxy(t.cancel,t));t._initDragDrop();t.isUploadable||u(r,"submit",n.proxy(t._submitForm,t));u(t.$container.find(".fileinput-upload"),"click",n.proxy(t._uploadClick,t))},_initDragDrop:function(){var t=this,i=t.$dropZone;t.isUploadable&&t.dropZoneEnabled&&t.showPreview&&(u(i,"dragenter dragover",n.proxy(t._zoneDragEnter,t)),u(i,"dragleave",n.proxy(t._zoneDragLeave,t)),u(i,"drop",n.proxy(t._zoneDrop,t)),u(n(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(n){n.stopPropagation();n.preventDefault()},_zoneDragEnter:function(t){var i=this,r=n.inArray("Files",t.originalEvent.dataTransfer.types)>-1;if(i._zoneDragDropInit(t),i.isDisabled||!r){t.originalEvent.dataTransfer.effectAllowed="none";t.originalEvent.dataTransfer.dropEffect="none";return}f(i.$dropZone,"file-highlighted")},_zoneDragLeave:function(n){var t=this;(t._zoneDragDropInit(n),t.isDisabled)||t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(n){var i=this;(n.preventDefault(),i.isDisabled||t(n.originalEvent.dataTransfer.files))||(i._change(n,"dragdrop"),i.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(n){var r=this,i=r.$container.find(".fileinput-upload"),u,f=!i.hasClass("disabled")&&t(i.attr("disabled"));if(!n||!n.isDefaultPrevented()){if(!r.isUploadable){f&&i.attr("type")!=="submit"&&(u=i.closest("form"),u.length&&u.trigger("submit"),n.preventDefault());return}n.preventDefault();f&&r.upload()}},_submitForm:function(){var n=this,i=n.$element,t=i.get(0).files;return t&&n.minFileCount>0&&n._getFileCount(t.length)<n.minFileCount?(n._noFilesError({}),!1):!n._abort({})},_clearPreview:function(){var n=this,t=n.showUploadedThumbs?n.$preview.find(".file-preview-frame:not(.file-preview-success)"):n.$preview.find(".file-preview-frame");t.remove();n.$preview.find(".file-preview-frame").length&&n.showPreview||n._resetUpload();n._validateDefaultPreview()},_initPreview:function(n){var r=this,f=r.initialCaption||"",u;if(!i.count(r.id)){r._clearPreview();n?r._setCaption(f):r._initCaption();return}u=i.out(r.id);f=n&&r.initialCaption?r.initialCaption:u.caption;r.$preview.html(u.content);r._setCaption(f);t(u.content)||r.$container.removeClass("file-input-new")},_initPreviewDeletes:function(){var r=this,o=r.deleteExtraData||{},e=function(){var n=r.isUploadable?i.count(r.id):r.$element.get(0).files.length;r.$preview.find(".kv-file-remove").length!==0||n||(r.reset(),r.initialCaption="")};r.$preview.find(".kv-file-remove").each(function(){var c=n(this),w=c.data("url")||r.deleteUrl,a=c.data("key");if(!t(w)&&a!==undefined){var s=c.closest(".file-preview-frame"),p=i.data[r.id],b,l,v=s.data("fileindex"),y,h;v=parseInt(v.replace("init_",""));y=t(p.config)&&t(p.config[v])?null:p.config[v];h=t(y)||t(y.extra)?o:y.extra;typeof h=="function"&&(h=h());l={id:c.attr("id"),key:a,extra:h};b=n.extend(!0,{},{url:w,type:"POST",dataType:"json",data:n.extend(!0,{},{key:a},h),beforeSend:function(n){r.ajaxAborted=!1;r._raise("filepredelete",[a,n,h]);r.ajaxAborted?n.abort():(f(s,"file-uploading"),f(c,"disabled"))},success:function(n,u,f){var o,y;if(t(n)||t(n.error))i.unset(r.id,v),o=i.count(r.id),y=o>0?r._getMsgSelected(o):"",r._raise("filedeleted",[a,f,h]),r._setCaption(y);else{l.jqXHR=f;l.response=n;r._showError(n.error,l,"filedeleteerror");s.removeClass("file-uploading");c.removeClass("disabled");e();return}s.removeClass("file-uploading").addClass("file-deleted");s.fadeOut("slow",function(){r._clearObjects(s);s.remove();e();o||r.getFileStack().length!==0||(r._setCaption(""),r.reset())})},error:function(n,t,i){var u=r._parseError(n,i);l.jqXHR=n;l.response={};r._showError(u,l,"filedeleteerror");s.removeClass("file-uploading");e()}},r.ajaxDeleteSettings);u(c,"click",function(){if(!r._validateMinCount())return!1;n.ajax(b)})}})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause();n(this).remove()});t.find("img object div").each(function(){n(this).remove()})},_clearFileInput:function(){var u=this,i=u.$element,e,r,f;t(i.val())||(u.isIE9||u.isIE10?(e=i.closest("form"),r=n(document.createElement("form")),f=n(document.createElement("div")),i.before(f),e.length?e.after(r):f.after(r),r.append(i).trigger("reset"),f.before(i).remove(),r.remove()):i.val(""),u.fileInputCleared=!0)},_resetUpload:function(){var n=this;n.uploadCache={content:[],config:[],tags:[],append:!0};n.uploadCount=0;n.uploadStatus={};n.uploadLog=[];n.uploadAsyncCount=0;n.loadedImages=[];n.totalImagesCount=0;n.$btnUpload.removeAttr("disabled");n._setProgress(0);f(n.$progress,"hide");n._resetErrors(!1);n.ajaxAborted=!1;n.ajaxRequests=[];n._resetCanvas()},_resetCanvas:function(){var n=this;n.canvas&&n.imageCanvasContext&&n.imageCanvasContext.clearRect(0,0,n.canvas.width,n.canvas.height)},_hasInitialPreview:function(){var n=this;return!n.overwriteInitial&&i.count(n.id)},_resetPreview:function(){var n=this,t,r;i.count(n.id)?(t=i.out(n.id),n.$preview.html(t.content),r=n.initialCaption?n.initialCaption:t.caption,n._setCaption(r)):(n._clearPreview(),n._initCaption())},_clearDefaultPreview:function(){var n=this;n.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var n=this;n.showPreview&&!t(n.defaultPreviewContent)&&(n.$preview.html('<div class="file-default-preview">'+n.defaultPreviewContent+"<\/div>"),n.$container.removeClass("file-input-new"))},_resetPreviewThumbs:function(n){var t=this,r;if(n){t._clearPreview();t.clearStack();return}t._hasInitialPreview()?(r=i.out(t.id),t.$preview.html(r.content),t._setCaption(r.caption),t._initPreviewDeletes()):t._clearPreview()},_getLayoutTemplate:function(n){var i=this,r=e(n,i.layoutTemplates)?i.layoutTemplates[n]:it[n];return t(i.customLayoutTags)?r:w(r,i.customLayoutTags)},_getPreviewTemplate:function(n){var i=this,r=e(n,i.previewTemplates)?i.previewTemplates[n]:rt[n];return t(i.customPreviewTags)?r:w(r,i.customPreviewTags)},_getOutData:function(n,t,i){var r=this;return n=n||{},t=t||{},i=i||r.filestack.slice(0)||{},{form:r.formdata,files:i,filenames:r.filenames,extra:r._getExtraData(),response:t,reader:r.reader,jqXHR:n}},_getMsgSelected:function(n){var t=this,i=n===1?t.fileSingle:t.filePlural;return t.msgSelected.replace("{n}",n).replace("{files}",i)},_getThumbs:function(n){return n=n||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+n)},_getExtraData:function(n,t){var i=this,r=i.uploadExtraData;return typeof i.uploadExtraData=="function"&&(r=i.uploadExtraData(n,t)),r},_initXhr:function(n,t,i){var r=this;return n.upload&&n.upload.addEventListener("progress",function(n){var u=0,f=n.loaded||n.position,e=n.total;n.lengthComputable&&(u=Math.ceil(f/e*100));t?r._setAsyncUploadStatus(t,u,i):r._setProgress(Math.ceil(u))},!1),n},_ajaxSubmit:function(t,i,r,u,f,e){var o=this,s;o._raise("filepreajax",[f,e]);o._uploadExtra(f,e);s=n.extend(!0,{},{xhr:function(){var t=n.ajaxSettings.xhr();return o._initXhr(t,f,o.getFileStack().length)},url:o.uploadUrl,type:"POST",dataType:"json",data:o.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:i,complete:r,error:u},o.ajaxSettings);o.ajaxRequests.push(n.ajax(s))},_initUploadSuccess:function(t,r,u){var f=this,e,a,v,l,o,s,h,c;f.showPreview&&typeof t=="object"&&!n.isEmptyObject(t)&&t.initialPreview!==undefined&&t.initialPreview.length>0&&(f.hasInitData=!0,o=t.initialPreview||[],s=t.initialPreviewConfig||[],h=t.initialPreviewThumbTags||[],e=t.append===undefined||t.append?!0:!1,f.overwriteInitial=!1,r!==undefined?u?(c=r.attr("data-fileindex"),f.uploadCache.content[c]=o[0],f.uploadCache.config[c]=s[0],f.uploadCache.tags[c]=h[0],f.uploadCache.append=e):(v=i.add(f.id,o,s[0],h[0],e),a=i.get(f.id,v,!1),l=n(a).hide(),r.after(l).fadeOut("slow",function(){l.fadeIn("slow").css("display:inline-block");f._initPreviewDeletes();f._clearFileInput();r.remove()})):(i.set(f.id,o,s,h,e),f._initPreview(),f._initPreviewDeletes()))},_initSuccessThumbs:function(){var t=this;t.showPreview&&t._getThumbs(".file-preview-success").each(function(){var i=n(this),r=i.find(".kv-file-remove");r.removeAttr("disabled");u(r,"click",function(){var n=t._raise("filesuccessremove",[i.attr("id"),i.data("fileindex")]);(nt(i),n!==!1)&&i.fadeOut("slow",function(){i.remove();t.$preview.find(".file-preview-frame").length||t.reset()})})})},_checkAsyncComplete:function(){for(var t=this,r,i=0;i<t.filestack.length;i++)if(t.filestack[i]&&(r=t.previewInitId+"-"+i,n.inArray(r,t.uploadLog)===-1))return!1;return t.uploadAsyncCount===t.uploadLog.length},_uploadExtra:function(t,i){var r=this,u=r._getExtraData(t,i);u.length!==0&&n.each(u,function(n,t){r.formdata.append(n,t)})},_uploadSingle:function(r,u,e){var o=this,nt=o.getFileStack().length,y=new FormData,l,h=o.previewInitId+"-"+r,s,w,a,p,tt=o.filestack.length>0||!n.isEmptyObject(o.uploadExtraData),b,k,d,g,v,c={id:h,index:r};(o.formdata=y,o.showPreview&&(s=n("#"+h+":not(.file-preview-initial)"),a=s.find(".kv-file-upload"),p=s.find(".kv-file-remove"),n("#"+h).find(".file-thumb-progress").removeClass("hide")),nt===0||!tt||a&&a.hasClass("disabled")||o._abort(c))||(v=function(n,t){o.updateStack(n,undefined);o.uploadLog.push(t);o._checkAsyncComplete()&&(o.fileBatchCompleted=!0)},w=function(){o.fileBatchCompleted&&setTimeout(function(){o.showPreview&&(i.set(o.id,o.uploadCache.content,o.uploadCache.config,o.uploadCache.tags,o.uploadCache.append),o.hasInitData&&(o._initPreview(),o._initPreviewDeletes()));o.unlock();o._clearFileInput();o._raise("filebatchuploadcomplete",[o.filestack,o._getExtraData()]);o.uploadCount=0;o.uploadStatus={};o.uploadLog=[];o._setProgress(100)},100)},b=function(t){l=o._getOutData(t);o.fileBatchCompleted=!1;o.showPreview&&(s.hasClass("file-preview-success")||(o._setThumbStatus(s,"Loading"),f(s,"file-uploading")),a.attr("disabled",!0),p.attr("disabled",!0));e||o.lock();o._raise("filepreupload",[l,h,r]);n.extend(!0,c,l);o._abort(c)&&(t.abort(),o._setProgressCancelled())},k=function(i,u,f){l=o._getOutData(f,i);n.extend(!0,c,l);setTimeout(function(){t(i)||t(i.error)?(o.showPreview&&(o._setThumbStatus(s,"Success"),a.hide(),o._initUploadSuccess(i,s,e)),o._raise("fileuploaded",[l,h,r]),e?v(r,h):o.updateStack(r,undefined)):(o._showUploadError(i.error,c),o._setPreviewError(s,r),e&&v(r,h))},100)},d=function(){setTimeout(function(){o.showPreview&&(a.removeAttr("disabled"),p.removeAttr("disabled"),s.removeClass("file-uploading"));e?w():(o.unlock(!1),o._clearFileInput());o._initSuccessThumbs()},100)},g=function(t,i,f){var l=o._parseError(t,f,e?u[r].name:null);setTimeout(function(){e&&v(r,h);o.uploadStatus[h]=100;o._setPreviewError(s,r);n.extend(!0,c,o._getOutData(t));o._showUploadError(l,c)},100)},y.append(o.uploadFileAttr,u[r],o.filenames[r]),y.append("file_id",r),o._ajaxSubmit(b,k,d,g,h,r))},_uploadBatch:function(){var i=this,r=i.filestack,u=r.length,e,o,s,h,l=i.filestack.length>0||!n.isEmptyObject(i.uploadExtraData),c;(i.formdata=new FormData,u!==0&&l&&!i._abort({}))&&(c=function(){n.each(r,function(n){i.updateStack(n,undefined)});i._clearFileInput()},e=function(t){i.lock();var r=i._getOutData(t);i.showPreview&&i._getThumbs().each(function(){var t=n(this),r=t.find(".kv-file-upload"),u=t.find(".kv-file-remove");t.hasClass("file-preview-success")||(i._setThumbStatus(t,"Loading"),f(t,"file-uploading"));r.attr("disabled",!0);u.attr("disabled",!0)});i._raise("filebatchpreupload",[r]);i._abort(r)&&(t.abort(),i._setProgressCancelled())},o=function(r,u,f){var o=i._getOutData(f,r),s=i._getThumbs(),e=0,h=t(r)||t(r.errorkeys)?[]:r.errorkeys;t(r)||t(r.error)?(i._raise("filebatchuploadsuccess",[o]),c(),i.showPreview?(s.each(function(){var t=n(this),r=t.find(".kv-file-upload");t.find(".kv-file-upload").hide();i._setThumbStatus(t,"Success");t.removeClass("file-uploading");r.removeAttr("disabled")}),i._initUploadSuccess(r)):i.reset()):(i.showPreview&&(s.each(function(){var t=n(this),r=t.find(".kv-file-remove"),u=t.find(".kv-file-upload");if(t.removeClass("file-uploading"),u.removeAttr("disabled"),r.removeAttr("disabled"),h.length===0){i._setPreviewError(t);return}n.inArray(e,h)!==-1?i._setPreviewError(t):(t.find(".kv-file-upload").hide(),i._setThumbStatus(t,"Success"),i.updateStack(e,undefined));e++}),i._initUploadSuccess(r)),i._showUploadError(r.error,o,"filebatchuploaderror"))},h=function(){i._setProgress(100);i.unlock();i._initSuccessThumbs();i._clearFileInput();i._raise("filebatchuploadcomplete",[i.filestack,i._getExtraData()])},s=function(t,r,f){var e=i._getOutData(t),o=i._parseError(t,f);(i._showUploadError(o,e,"filebatchuploaderror"),i.uploadFileCount=u-1,i.showPreview)&&(i._getThumbs().each(function(){var t=n(this),r=t.attr("data-fileindex");t.removeClass("file-uploading");i.filestack[r]!==undefined&&i._setPreviewError(t)}),i._getThumbs().removeClass("file-uploading"),i._getThumbs(" .kv-file-upload").removeAttr("disabled"),i._getThumbs(" .kv-file-delete").removeAttr("disabled"))},n.each(r,function(n,u){t(r[n])||i.formdata.append(i.uploadFileAttr,u,i.filenames[n])}),i._ajaxSubmit(e,o,h,s))},_uploadExtraOnly:function(){var n=this,i={},r,u,f,e;(n.formdata=new FormData,n._abort(i))||(r=function(t){n.lock();var r=n._getOutData(t);n._raise("filebatchpreupload",[r]);n._setProgress(50);i.data=r;i.xhr=t;n._abort(i)&&(t.abort(),n._setProgressCancelled())},u=function(i,r,u){var f=n._getOutData(u,i);t(i)||t(i.error)?(n._raise("filebatchuploadsuccess",[f]),n._clearFileInput(),n._initUploadSuccess(i)):n._showUploadError(i.error,f,"filebatchuploaderror")},f=function(){n._setProgress(100);n.unlock();n._clearFileInput();n._raise("filebatchuploadcomplete",[n.filestack,n._getExtraData()])},e=function(t,r,u){var f=n._getOutData(t),e=n._parseError(t,u);i.data=f;n._showUploadError(e,f,"filebatchuploaderror")},n._ajaxSubmit(r,u,f,e))},_initFileActions:function(){var t=this;t.showPreview&&(t.$preview.find(".kv-file-remove").each(function(){var s=n(this),r=s.closest(".file-preview-frame"),h,f=r.attr("id"),e=r.attr("data-fileindex"),o,c,l;u(s,"click",function(){if(l=t._raise("filepreremove",[f,e]),l===!1||!t._validateMinCount())return!1;h=r.hasClass("file-preview-error");nt(r);r.fadeOut("slow",function(){t.updateStack(e,undefined);t._clearObjects(r);r.remove();f&&h&&t.$errorContainer.find('li[data-file-id="'+f+'"]').fadeOut("fast",function(){n(this).remove();t._errorsExist()||t._resetErrors()});var u=t.getFileStack(!0),s=u.length,l=i.count(t.id),a=t.showPreview&&t.$preview.find(".file-preview-frame").length;t._clearFileInput();s!==0||l!==0||a?(o=l+s,c=o>1?t._getMsgSelected(o):u[0]?t._getFileNames()[0]:"",t._setCaption(c)):t.reset();t._raise("fileremoved",[f,e])})})}),t.$preview.find(".kv-file-upload").each(function(){var i=n(this);u(i,"click",function(){var n=i.closest(".file-preview-frame"),r=n.attr("data-fileindex");n.hasClass("file-preview-error")||t._uploadSingle(r,t.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_previewDefault:function(t,i,r){if(this.showPreview){var u=this,o=t?t.name:"",s=l.createObjectURL(t),h=i.slice(i.lastIndexOf("-")+1),f=u.previewSettings.other||g.other,e=u._renderFileFooter(t.name,f.width),c=u._parseFilePreviewIcon(u._getPreviewTemplate("other"),o);r===!0&&(u.isUploadable||(e+='<div class="file-other-error" title="'+u.fileActionSettings.indicatorErrorTitle+'">'+u.fileActionSettings.indicatorError+"<\/div>"));u._clearDefaultPreview();u.$preview.append("\n"+c.replace(/\{previewId}/g,i).replace(/\{frameClass}/g,"").replace(/\{fileindex}/g,h).replace(/\{caption}/g,u.slug(t.name)).replace(/\{width}/g,f.width).replace(/\{height}/g,f.height).replace(/\{type}/g,t.type).replace(/\{data}/g,s).replace(/\{footer}/g,e));r===!0&&u.isUploadable&&u._setThumbStatus(n("#"+i),"Error")}},_previewFile:function(n,t,i,r,u){if(this.showPreview){var f=this,o=f._parseFileType(t),y=t?t.name:"",s=f.slug(y),h,a,w=f.allowedPreviewTypes,b=f.allowedPreviewMimeTypes,l=f._getPreviewTemplate(o),tt=w&&w.indexOf(o)>=0,v,c=e(o,f.previewSettings)?f.previewSettings[o]:g[o],it=b&&b.indexOf(t.type)!==-1,k=f._renderFileFooter(s,c.width),d="",nt=r.slice(r.lastIndexOf("-")+1);tt||it?(l=f._parseFilePreviewIcon(l,y.split(".").pop()),o==="text"?(a=vi(i.target.result),v="text-"+p(),h=l.replace(/\{zoom}/g,f._getLayoutTemplate("zoom")),d=f._getLayoutTemplate("modal").replace("{id}",v).replace(/\{title}/g,s).replace(/\{body}/g,a).replace(/\{heading}/g,f.msgZoomModalHeading),h=h.replace(/\{previewId}/g,r).replace(/\{caption}/g,s).replace(/\{width}/g,c.width).replace(/\{height}/g,c.height).replace(/\{frameClass}/g,"").replace(/\{zoomInd}/g,f.zoomIndicator).replace(/\{footer}/g,k).replace(/\{fileindex}/g,nt).replace(/\{type}/g,t.type).replace(/\{zoomTitle}/g,f.msgZoomTitle).replace(/\{dialog}/g,"$('#"+v+"').modal('show')").replace(/\{data}/g,a)+d):h=l.replace(/\{previewId}/g,r).replace(/\{caption}/g,s).replace(/\{frameClass}/g,"").replace(/\{type}/g,t.type).replace(/\{fileindex}/g,nt).replace(/\{width}/g,c.width).replace(/\{height}/g,c.height).replace(/\{footer}/g,k).replace(/\{data}/g,u),f._clearDefaultPreview(),f.$preview.append("\n"+h),f._validateImage(n,r,s,t.type)):f._previewDefault(t,r)}},_slugDefault:function(n){return t(n)?"":String(n).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(i){this.reader=new FileReader;var u=this,b=u.$element,k=u.$preview,f=u.reader,p=u.$previewContainer,h=u.$previewStatus,d=u.msgLoading,w=u.msgProgress,g=u.previewInitId,o=i.length,a=u.fileTypeSettings,nt=u.filestack.length,s,v=function(t,r,f,e){var o=n.extend(!0,{},u._getOutData({},{},i),{id:f,index:e}),h={id:f,index:e,file:r,files:i};return u._previewDefault(r,f,!0),u.isUploadable&&u.addToStack(undefined),setTimeout(s(e+1),100),u._initFileActions(),u.removeFromPreviewOnError&&n("#"+f).remove(),u.isUploadable?u._showUploadError(t,o):u._showError(t,h)};u.loadedImages=[];u.totalImagesCount=0;n.each(i,function(n,t){var i=u.fileTypeSettings.image||y.image;i&&i(t.type)&&u.totalImagesCount++});s=function(n){if(t(b.attr("multiple"))&&(o=1),n>=o){u.isUploadable&&u.filestack.length>0?u._raise("filebatchselected",[u.getFileStack()]):u._raise("filebatchselected",[i]);p.removeClass("file-thumb-loading");h.html("");return}var pt=nt+n,ut=g+"-"+pt,vt,tt=i[n],rt=u.slug(tt.name),ht=(tt.size||0)/1e3,lt,at="",wt=l.createObjectURL(tt),st=0,ct,it,yt,ft,et=u.allowedFileTypes,bt=t(et)?"":et.join(", "),ot=u.allowedFileExtensions,kt=t(ot)?"":ot.join(", ");if(t(ot)||(at=new RegExp("\\.("+ot.join("|")+")$","i")),ht=ht.toFixed(2),u.maxFileSize>0&&ht>u.maxFileSize){it=u.msgSizeTooLarge.replace("{name}",rt).replace("{size}",ht).replace("{maxSize}",u.maxFileSize);u.isError=v(it,tt,ut,n);return}if(!t(et)&&c(et)){for(ct=0;ct<et.length;ct+=1)yt=et[ct],lt=a[yt],ft=lt!==undefined&&lt(tt.type,rt),st+=t(ft)?0:ft.length;if(st===0){it=u.msgInvalidFileType.replace("{name}",rt).replace("{types}",bt);u.isError=v(it,tt,ut,n);return}}if(st===0&&!t(ot)&&c(ot)&&!t(at)&&(ft=r(rt,at),st+=t(ft)?0:ft.length,st===0)){it=u.msgInvalidFileExtension.replace("{name}",rt).replace("{extensions}",kt);u.isError=v(it,tt,ut,n);return}if(!u.showPreview){u.addToStack(tt);setTimeout(s(n+1),100);u._raise("fileloaded",[tt,ut,n,f]);return}k.length>0&&FileReader!==undefined?(h.html(d.replace("{index}",n+1).replace("{files}",o)),p.addClass("file-thumb-loading"),f.onerror=function(n){u._errorHandler(n,rt)},f.onload=function(t){u._previewFile(n,tt,t,ut,wt);u._initFileActions()},f.onloadend=function(){it=w.replace("{index}",n+1).replace("{files}",o).replace("{percent}",50).replace("{name}",rt);setTimeout(function(){h.html(it);u._updateFileDetails(o);s(n+1)},100);u._raise("fileloaded",[tt,ut,n,f])},f.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,r=Math.ceil(i);it=w.replace("{index}",n+1).replace("{files}",o).replace("{percent}",r).replace("{name}",rt);setTimeout(function(){h.html(it)},100)}},vt=e("text",a)?a.text:y.text,vt(tt.type,rt)?f.readAsText(tt,u.textEncoding):f.readAsArrayBuffer(tt)):(u._previewDefault(tt,ut),setTimeout(function(){s(n+1);u._updateFileDetails(o)},100),u._raise("fileloaded",[tt,ut,n,f]));u.addToStack(tt)};s(0);u._updateFileDetails(o,!1)},_updateFileDetails:function(n){var t=this,u=t.$element,r=t.getFileStack(),o=u[0].files[0]&&u[0].files[0].name||r.length&&r[0].name||"",f=t.slug(o),e=t.isUploadable?r.length:n,s=i.count(t.id)+e,h=e>1?t._getMsgSelected(s):f;t.isError?(t.$previewContainer.removeClass("file-thumb-loading"),t.$previewStatus.html(""),t.$captionContainer.find(".kv-caption-icon").hide()):t._showFileIcon();t._setCaption(h,t.isError);t.$container.removeClass("file-input-new file-input-ajax-new");arguments.length===1&&t._raise("fileselect",[n,f]);i.count(t.id)&&t._initPreviewDeletes()},_setThumbStatus:function(n,t){var i=this;if(i.showPreview){var r="indicator"+t,e=r+"Title",o="file-preview-"+t.toLowerCase(),u=n.find(".file-upload-indicator"),f=i.fileActionSettings;n.removeClass("file-preview-success file-preview-error file-preview-loading");t==="Error"&&n.find(".kv-file-upload").attr("disabled",!0);u.html(f[r]);u.attr("title",f[e]);n.addClass(o)}},_setProgressCancelled:function(){var n=this;n._setProgress(100,n.$progress,n.msgCancelled)},_setProgress:function(n,i,r){var u=this,f=Math.min(n,100),e=f<100?u.progressTemplate:r?u.progressErrorTemplate:u.progressCompleteTemplate;i=i||u.$progress;t(e)||(i.html(e.replace(/\{percent}/g,f)),r&&i.find('[role="progressbar"]').html(r))},_setFileDropZoneTitle:function(){var n=this,i=n.$container.find(".file-drop-zone");(i.find("."+n.dropZoneTitleClass).remove(),n.isUploadable&&n.showPreview&&i.length!==0&&!(n.getFileStack().length>0)&&n.dropZoneEnabled)&&(i.find(".file-preview-frame").length===0&&t(n.defaultPreviewContent)&&i.prepend('<div class="'+n.dropZoneTitleClass+'">'+n.dropZoneTitle+"<\/div>"),n.$container.removeClass("file-input-new"),f(n.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,r){var u=this,f=0;u._setProgress(i,n("#"+t).find(".file-thumb-progress"));u.uploadStatus[t]=i;n.each(u.uploadStatus,function(n,t){f+=t});u._setProgress(Math.ceil(f/r))},_validateMinCount:function(){var n=this,t=n.isUploadable?n.getFileStack().length:n.$element.get(0).files.length;return n.validateInitialCount&&n.minFileCount>0&&n._getFileCount(t-1)<n.minFileCount?(n._noFilesError({}),!1):!0},_getFileCount:function(n){var t=this,r=0;return t.validateInitialCount&&!t.overwriteInitial&&(r=i.count(t.id),n+=r),n},_getFileName:function(n){return n&&n.name?this.slug(n.name):undefined},_getFileNames:function(n){var t=this;return t.filenames.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},_setPreviewError:function(n,t,i){var r=this;t&&r.updateStack(t,i);r.removeFromPreviewOnError?n.remove():r._setThumbStatus(n,"Error")},_checkDimensions:function(n,i,r,u,f,e,o){var h=this,a,l,y=i==="Small"?"min":"max",c=h[y+"Image"+e],s,v;!t(c)&&r.length&&((s=r[0],l=e==="Width"?s.naturalWidth||s.width:s.naturalHeight||s.height,v=i==="Small"?l>=c:l<=c,v)||(a=h["msgImage"+e+i].replace("{name}",f).replace("{size}",c),h._showUploadError(a,o),h._setPreviewError(u,n,null)))},_validateImage:function(n,t,i,r){var f=this,h=f.$preview,s,c,a,o=h.find("#"+t),e=o.find("img");(i=i||"Untitled",e.length)&&u(e,"load",function(){c=o.width();a=h.width();c>a&&(e.css("width","100%"),o.css("width","97%"));s={ind:n,id:t};f._checkDimensions(n,"Small",e,o,i,"Width",s);f._checkDimensions(n,"Small",e,o,i,"Height",s);f.resizeImage||(f._checkDimensions(n,"Large",e,o,i,"Width",s),f._checkDimensions(n,"Large",e,o,i,"Height",s));f._raise("fileimageloaded",[t]);f.loadedImages.push({ind:n,img:e,thumb:o,pid:t,typ:r});f._validateAllImages();l.revokeObjectURL(e.attr("src"))})},_validateAllImages:function(){var n=this,i,t,f,e,u,r,o={},s;if(n.loadedImages.length===n.totalImagesCount&&(n._raise("fileimagesloaded"),n.resizeImage)){for(s=n.isUploadable?n._showUploadError:n._showError,i=0;i<n.loadedImages.length;i++)t=n.loadedImages[i],f=t.img,e=t.thumb,u=t.pid,r=t.ind,o={id:u,index:r},n._getResizedImage(f[0],t.typ,u,r)||(s(n.msgImageResizeError,o,"fileimageresizeerror"),n._setPreviewError(e,r));n._raise("fileimagesresized")}},_getResizedImage:function(n,t,i,r){var u=this,f=n.naturalWidth,e=n.naturalHeight,h=1,o=u.maxImageWidth||f,s=u.maxImageHeight||e,v=f&&e,c,l,a=u.imageCanvas,y=u.imageCanvasContext;if(!v)return!1;if(f===o&&e===s)return!0;t=t||u.resizeDefaultImageType;c=f>o;l=e>s;h=u.resizePreference==="width"?c?o/f:l?s/e:1:l?s/e:c?o/f:1;u._resetCanvas();f*=h;e*=h;a.width=f;a.height=e;try{return y.drawImage(n,0,0,f,e),a.toBlob(function(n){u._raise("fileimageresized",[i,r]);u.filestack[r]=n},t,u.resizeQuality),!0}catch(p){return!1}},_initBrowse:function(n){var t=this;t.$btnFile=n.find(".btn-file");t.$btnFile.append(t.$element)},_initCaption:function(){var n=this,i=n.initialCaption||"";return n.overwriteInitial||t(i)?(n.$caption.html(""),!1):(n._setCaption(i),!0)},_setCaption:function(i,r){var u=this,f,o,e,s,h=u.getFileStack();if(u.$caption.length){if(r)f=n("<div>"+u.msgValidationError+"<\/div>").text(),e=h.length,s=e?e===1&&h[0]?u._getFileNames()[0]:u._getMsgSelected(e):u._getMsgSelected(u.msgNo),o='<span class="'+u.msgValidationErrorClass+'">'+u.msgValidationErrorIcon+(t(i)?s:i)+"<\/span>";else{if(t(i))return;f=n("<div>"+i+"<\/div>").text();o=u._getLayoutTemplate("icon")+f}u.$caption.html(o);u.$caption.attr("title",f);u.$captionContainer.find(".file-caption-ellipsis").attr("title",f)}},_createContainer:function(){var t=this,i=n(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(t._renderMain());return t.$element.before(i),t._initBrowse(i),i},_refreshContainer:function(){var n=this,t=n.$container;t.before(n.$element);t.html(n._renderMain());n._initBrowse(t)},_renderMain:function(){var n=this,t=n.isUploadable&&n.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=n.showClose?n._getLayoutTemplate("close"):"",r=n.showPreview?n._getLayoutTemplate("preview").replace(/\{class}/g,n.previewClass).replace(/\{dropClass}/g,t):"",u=n.isDisabled?n.captionClass+" file-caption-disabled":n.captionClass,f=n.captionTemplate.replace(/\{class}/g,u+" kv-fileinput-caption");return n.mainTemplate.replace(/\{class}/g,n.mainClass).replace(/\{preview}/g,r).replace(/\{close}/g,i).replace(/\{caption}/g,f).replace(/\{upload}/g,n._renderButton("upload")).replace(/\{remove}/g,n._renderButton("remove")).replace(/\{cancel}/g,n._renderButton("cancel")).replace(/\{browse}/g,n._renderButton("browse"))},_renderButton:function(n){var i=this,u=i._getLayoutTemplate("btnDefault"),f=i[n+"Class"],o=i[n+"Title"],s=i[n+"Icon"],r=i[n+"Label"],h=i.isDisabled?" disabled":"",e="button";switch(n){case"remove":if(!i.showRemove)return"";break;case"cancel":if(!i.showCancel)return"";f+=" hide";break;case"upload":if(!i.showUpload)return"";i.isUploadable&&!i.isDisabled?u=i._getLayoutTemplate("btnLink").replace("{href}",i.uploadUrl):e="submit";break;case"browse":u=i._getLayoutTemplate("btnBrowse");break;default:return""}return f+=n==="browse"?" btn-file":" fileinput-"+n+" fileinput-"+n+"-button",t(r)||(r=' <span class="'+i.buttonLabelClass+'">'+r+"<\/span>"),u.replace("{type}",e).replace("{css}",f).replace("{title}",o).replace("{status}",h).replace("{icon}",s).replace("{label}",r)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"<\/div>"},_renderFileFooter:function(n,t){var i=this,u=i.fileActionSettings,f,r,e=i._getLayoutTemplate("footer");return i.isUploadable?(f=e.replace(/\{actions}/g,i._renderFileActions(!0,!0,!1,!1,!1)),r=f.replace(/\{caption}/g,n).replace(/\{width}/g,t).replace(/\{progress}/g,i._renderThumbProgress()).replace(/\{indicator}/g,u.indicatorNew).replace(/\{indicatorTitle}/g,u.indicatorNewTitle)):r=e.replace(/\{actions}/g,"").replace(/\{caption}/g,n).replace(/\{progress}/g,"").replace(/\{width}/g,t).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,""),w(r,i.previewThumbTags)},_renderFileActions:function(n,t,i,r,u){if(!n&&!t)return"";var e=this,c=r===!1?"":' data-url="'+r+'"',s=u===!1?"":' data-key="'+u+'"',o=e._getLayoutTemplate("actionDelete"),h="",l=e._getLayoutTemplate("actions"),a=e.otherActionButtons.replace(/\{dataKey}/g,s),f=e.fileActionSettings,v=i?f.removeClass+" disabled":f.removeClass;return o=o.replace(/\{removeClass}/g,v).replace(/\{removeIcon}/g,f.removeIcon).replace(/\{removeTitle}/g,f.removeTitle).replace(/\{dataUrl}/g,c).replace(/\{dataKey}/g,s),n&&(h=e._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,f.uploadClass).replace(/\{uploadIcon}/g,f.uploadIcon).replace(/\{uploadTitle}/g,f.uploadTitle)),l.replace(/\{delete}/g,o).replace(/\{upload}/g,h).replace(/\{other}/g,a)},_browse:function(n){var t=this;(t._raise("filebrowse"),n&&n.isDefaultPrevented())||(t.isError&&!t.isUploadable&&t.clear(),t.$captionContainer.focus())},_change:function(r){var u=this,l=u.$element;if(!u.isUploadable&&t(l.val())&&u.fileInputCleared){u.fileInputCleared=!1;return}u.fileInputCleared=!1;var f,y,o,p=arguments.length>1,s=u.isUploadable,a=0,h,w,e,c=p?r.originalEvent.dataTransfer.files:l.get(0).files,b=u.filestack.length,d=t(l.attr("multiple")),k=d&&b>0,v=0,g=function(t,i,r,f){var e=n.extend(!0,{},u._getOutData({},{},c),{id:r,index:f}),o={id:r,index:f,file:i,files:c};return u.isUploadable?u._showUploadError(t,e):u._showError(t,o)};if(u.reader=null,u._resetUpload(),u._hideFileIcon(),u.isUploadable&&u.$container.find(".file-drop-zone ."+u.dropZoneTitleClass).remove(),p)for(f=[];c[a];)h=c[a],h.type||h.size%4096!=0?f.push(h):v++,a++;else f=r.target.files===undefined?r.target&&r.target.value?[{name:r.target.value.replace(/^.+\\/,"")}]:[]:r.target.files;if(t(f)||f.length===0){s||u.clear();u._showFolderError(v);u._raise("fileselectnone");return}if(u._resetErrors(),e=f.length,o=u._getFileCount(u.isUploadable?u.getFileStack().length+e:e),u.maxFileCount>0&&o>u.maxFileCount){if(!u.autoReplace||e>u.maxFileCount){w=u.autoReplace&&e>u.maxFileCount?e:o;y=u.msgFilesTooMany.replace("{m}",u.maxFileCount).replace("{n}",w);u.isError=g(y,null,null,null);u.$captionContainer.find(".kv-caption-icon").hide();u._setCaption("",!0);u.$container.removeClass("file-input-new file-input-ajax-new");return}o>u.maxFileCount&&u._resetPreviewThumbs(s)}else!s||k?(u._resetPreviewThumbs(!1),k&&u.clearStack()):s&&b===0&&(!i.count(u.id)||u.overwriteInitial)&&u._resetPreviewThumbs(!0);u.isPreviewable?u._readFiles(f):u._updateFileDetails(1);u._showFolderError(v)},_abort:function(t){var i=this,r;return i.ajaxAborted&&typeof i.ajaxAborted=="object"&&i.ajaxAborted.message!==undefined?(r=n.extend(!0,{},i._getOutData(),t),r.abortData=i.ajaxAborted.data||{},r.abortMessage=i.ajaxAborted.message,i.cancel(),i._setProgress(100,i.$progress,i.msgCancelled),i._showUploadError(i.ajaxAborted.message,r,"filecustomerror"),!0):!1},_resetFileStack:function(){var t=this,i=0,r=[],u=[];t._getThumbs().each(function(){var f=n(this),o=f.attr("data-fileindex"),e=t.filestack[o];o!==-1&&(e!==undefined?(r[i]=e,u[i]=t._getFileName(e),f.attr({id:t.previewInitId+"-"+i,"data-fileindex":i}),i++):f.attr({id:"uploaded-"+p(),"data-fileindex":"-1"}))});t.filestack=r;t.filenames=u},clearStack:function(){var n=this;return n.filestack=[],n.filenames=[],n.$element},updateStack:function(n,t){var i=this;return i.filestack[n]=t,i.filenames[n]=i._getFileName(t),i.$element},addToStack:function(n){var t=this;return t.filestack.push(n),t.filenames.push(t._getFileName(n)),t.$element},getFileStack:function(n){var t=this;return t.filestack.filter(function(t){return n?t!==undefined:t!==undefined&&t!==null})},lock:function(){var n=this;return n._resetErrors(),n.disable(),n.showRemove&&f(n.$container.find(".fileinput-remove"),"hide"),n.showCancel&&n.$container.find(".fileinput-cancel").removeClass("hide"),n._raise("filelock",[n.filestack,n._getExtraData()]),n.$element},unlock:function(n){var t=this;return n===undefined&&(n=!0),t.enable(),t.showCancel&&f(t.$container.find(".fileinput-cancel"),"hide"),t.showRemove&&t.$container.find(".fileinput-remove").removeClass("hide"),n&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var t=this,r=t.ajaxRequests,u=r.length,i;if(u>0)for(i=0;i<u;i+=1)t.cancelling=!0,r[i].abort();return t._setProgressCancelled(),t._getThumbs().each(function(){var i=n(this),r=i.attr("data-fileindex");i.removeClass("file-uploading");t.filestack[r]!==undefined&&(i.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),i.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled"));t.unlock()}),t.$element},clear:function(){var t=this,r;return t.$btnUpload.removeAttr("disabled"),t._getThumbs().find("video,audio,img").each(function(){nt(n(this))}),t._resetUpload(),t.clearStack(),t._clearFileInput(),t._resetErrors(!0),t._raise("fileclear"),t._hasInitialPreview()?(t._showFileIcon(),t._resetPreview(),t._initPreviewDeletes(),t.$container.removeClass("file-input-new")):(t._getThumbs().each(function(){t._clearObjects(n(this))}),t.isUploadable&&(i.data[t.id]={}),t.$preview.html(""),r=!t.overwriteInitial&&t.initialCaption.length>0?t.initialCaption:"",t._setCaption(r),t.$caption.attr("title",""),f(t.$container,"file-input-new"),t._validateDefaultPreview()),t.$container.find(".file-preview-frame").length===0&&(t._initCaption()||t.$captionContainer.find(".kv-caption-icon").hide()),t._hideFileIcon(),t._raise("filecleared"),t.$captionContainer.focus(),t._setFileDropZoneTitle(),t.$element},reset:function(){var n=this;return n._resetPreview(),n.$container.find(".fileinput-filename").text(""),n._raise("filereset"),f(n.$container,"file-input-new"),(n.$preview.find(".file-preview-frame").length||n.isUploadable&&n.dropZoneEnabled)&&n.$container.removeClass("file-input-new"),n._setFileDropZoneTitle(),n.clearStack(),n.formdata={},n.$element},disable:function(){var n=this;return n.isDisabled=!0,n._raise("filedisabled"),n.$element.attr("disabled","disabled"),n.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),n.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),n._initDragDrop(),n.$element},enable:function(){var n=this;return n.isDisabled=!1,n._raise("fileenabled"),n.$element.removeAttr("disabled"),n.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),n.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),n._initDragDrop(),n.$element},upload:function(){var t=this,r=t.getFileStack().length,i,f,u,e=!n.isEmptyObject(t._getExtraData());if(t.minFileCount>0&&t._getFileCount(r)<t.minFileCount){t._noFilesError({});return}if(t.isUploadable&&!t.isDisabled&&(r!==0||e)){if(t._resetUpload(),t.$progress.removeClass("hide"),t.uploadCount=0,t.uploadStatus={},t.uploadLog=[],t.lock(),t._setProgress(2),r===0&&e){t._uploadExtraOnly();return}if(u=t.filestack.length,t.hasInitData=!1,t.uploadAsync){for(f=t._getOutData(),t._raise("filebatchpreupload",[f]),t.fileBatchCompleted=!1,t.uploadCache={content:[],config:[],tags:[],append:!0},t.uploadAsyncCount=t.getFileStack().length,i=0;i<u;i++)t.uploadCache.content[i]=null,t.uploadCache.config[i]=null,t.uploadCache.tags[i]=null;for(i=0;i<u;i++)t.filestack[i]!==undefined&&t._uploadSingle(i,t.filestack,!0);return}return t._uploadBatch(),t.$element}},destroy:function(){var n=this,t=n.$container;return t.find(".file-drop-zone").off(),n.$element.insertBefore(t).off(b).removeData(),t.off().remove(),n.$element},refresh:function(t){var i=this,r=i.$element;return t=t?n.extend(!0,{},i.options,t):i.options,i.destroy(),r.fileinput(t),r.val()&&r.trigger("change.fileinput"),r}};n.fn.fileinput=function(i){if(k()||a(9)){var u=Array.apply(null,arguments),r=[];u.shift();this.each(function(){var e=n(this),f=e.data("fileinput"),s=typeof i=="object"&&i,o=s.language||e.data("language")||"en",h={},c;f||(o==="en"||t(n.fn.fileinputLocales[o])||(h=n.fn.fileinputLocales[o]),c=n.extend(!0,{},n.fn.fileinput.defaults,n.fn.fileinputLocales.en,h,s,e.data()),f=new v(this,c),e.data("fileinput",f));typeof i=="string"&&r.push(f[i].apply(f,u))});switch(r.length){case 0:return this;case 1:return r[0];default:return r}}};n.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:it,previewTemplates:rt,allowedPreviewTypes:d,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:g,fileTypeSettings:y,previewFileIcon:'<i class="glyphicon glyphicon-file"><\/i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"><\/i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"><\/i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"><\/i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"><\/i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"><\/i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",previewFileType:"image",zoomIndicator:'<i class="glyphicon glyphicon-zoom-in"><\/i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;<\/span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0};n.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgCancelled:"Cancelled",msgZoomTitle:"View details",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB<\/b>) exceeds maximum allowed upload size of <b>{maxSize} KB<\/b>.',msgFilesTooLess:"You must select at least <b>{n}<\/b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})<\/b> exceeds maximum allowed limit of <b>{m}<\/b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}<\/pre>",dropZoneTitle:"Drag & drop files here &hellip;"};n.fn.fileinput.Constructor=v;n(document).ready(function(){var t=n("input.file[type=file]");t.length&&t.fileinput()})});
//# sourceMappingURL=fileinput.min.js.map
